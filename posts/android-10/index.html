<!DOCTYPE html><html lang="ru-RU" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="pv-cache-enabled" content="false"><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="Android 10" /><meta name="author" content="Bimlibik" /><meta property="og:locale" content="ru_RU" /><meta name="description" content="База статей по Android и Kotlin, основанная на личных наблюдениях, а так же интересные статьи и информация со сторонних ресурсов." /><meta property="og:description" content="База статей по Android и Kotlin, основанная на личных наблюдениях, а так же интересные статьи и информация со сторонних ресурсов." /><link rel="canonical" href="http://bimlibik.github.io/posts/android-10/" /><meta property="og:url" content="http://bimlibik.github.io/posts/android-10/" /><meta property="og:site_name" content="Bimlibik" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2020-05-18T18:02:00+08:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Android 10" /><meta name="twitter:site" content="@twitter_username" /><meta name="twitter:creator" content="@Bimlibik" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"description":"База статей по Android и Kotlin, основанная на личных наблюдениях, а так же интересные статьи и информация со сторонних ресурсов.","headline":"Android 10","dateModified":"2020-05-18T18:02:00+08:00","datePublished":"2020-05-18T18:02:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://bimlibik.github.io/posts/android-10/"},"url":"http://bimlibik.github.io/posts/android-10/","author":{"@type":"Person","name":"Bimlibik"},"@type":"BlogPosting","@context":"https://schema.org"}</script><title>Android 10 | Bimlibik</title><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="icon" href="/assets/img/favicons/favicon.ico" type="image/x-icon"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon.png"><link rel="apple-touch-icon" href="/assets/img/favicons/apple-icon-precomposed.png"><link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicons/apple-icon-57x57.png"><link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicons/apple-icon-60x60.png"><link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicons/apple-icon-72x72.png"><link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicons/apple-icon-76x76.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicons/apple-icon-114x114.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicons/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicons/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicons/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-icon-180x180.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/img/favicons/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicons/favicon-96x96.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/manifest.json"><meta name='msapplication-config' content='/assets/img/favicons/browserconfig.xml'><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/img/favicons/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="cdn.jsdelivr.net"><link rel="dns-prefetch" href="cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha256-LA89z+k9fjgMKQ/kq4OO2Mrf8VltYml/VES+Rg0fh20=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css" integrity="sha256-+N4/V/SbAFiW1MPBCXnfnP9QSN3+Keu+NlB+0ev/YKQ=" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-159618579-2"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-159618579-2'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/img/sample/avatar.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Bimlibik</a></div><div class="site-subtitle font-italic">База статей по Android и Kotlin.</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>ГЛАВНАЯ</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>КАТЕГОРИИ</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>ТЕГИ</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>АРХИВ</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>О САЙТЕ</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/Bimlibik" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Статьи </a> </span> <span>Android 10</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" placeholder="Поиск..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Android 10</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="18.05.2020, 18:02" prefix="Опубликовано " > 18 May 2020 <i class="unloaded">2020-05-18T18:02:00+08:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="Всего слов - 1346"> Время чтения 7 мин. </span></div></div><div class="post-content"><p><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="/assets/img/posts/android-version/android-10.png" alt="android-10" height="400" /></p><p><strong>Дата выхода:</strong> 3 сентября 2019.<br /> <strong>API:</strong> 29. <br /> <strong>Сладкое название:</strong> Quince Tart (пирог с айвой).</p><hr /><h2 id="визуальные-изменения">Визуальные изменения</h2><ul><li><p>Навигация жестами. В данном режиме всё экранное пространство выделяется под контент, а для управления используются экранные жесты. Подробнее в <a href="https://developer.android.com/training/gestures/gesturenav" title="developer.android.com">гайде</a>.</p><li><p>Тёмная тема. Тема добавлена на уровне системы и может быть включена в настройках. Применяется как для системы, так и для приложений. При этом можно использовать функцию <strong>Force Dark</strong>, которая анализирует внешний вид приложения и автоматически применяет к нему тёмную тему. Подробнее в <a href="https://developer.android.com/guide/topics/ui/look-and-feel/darktheme" title="developer.android.com">гайде</a>.</p><li><a href="https://developer.android.com/reference/android/provider/Settings.Panel" title="developer.android.com">Панель настроек</a>. Позволяет показывать настройки приложения в всплывающей панели. При этом настройки ограничены следующими типами:<ul><li><code class="language-plaintext highlighter-rouge">ACTION_INTERNET_CONNECTIVITY</code> - настройки, связанные с подключением к интернету (режим полёта, wi-fi, мобильные сети).<li><code class="language-plaintext highlighter-rouge">ACTION_WIFI</code> - настройки wi-fi.<li><code class="language-plaintext highlighter-rouge">ACTION_NFC</code> - настройки, связанные с беспроводной передачей данных между устройствами.<li><code class="language-plaintext highlighter-rouge">ACTION_VOLUME</code> - настройки громкости. <br /> <br /></ul><li><p>Улучшено меню отправки контента.</p><li><p>Рекомендации в уведомлениях. Данная функция обновлена и теперь в уведомлениях можно увидеть рекомендуемые ответы и действия. При этом эти действия могут генерироваться системой автоматически. Либо приложение может предоставлять свои собственные действия, а системные отключить.</p><li><p>Автоматические субтитры. Эта функция автоматически создает субтитры к видеороликам, подкастам, голосовым сообщениям и даже записям, которые вы сделали сами. Чтобы включить ее, достаточно одного нажатия. Подключение к Интернету при этом не требуется.</p><li><p>Усилитель звука. С помощью приложения “Усилитель звука” можно усилить нужные звуки, отфильтровать фоновый шум и отрегулировать настройки для максимально комфортного звучания.</p><li><p>Режим концентрации внимания. Если вам нужно сосредоточиться на важных задачах, включите режим концентрации внимания, выберите приложения, которые вас отвлекают, и приостановите их работу.</p><li>Family Link. Позволяет ограничивать время использования устройства и доступ к определенным приложениям и контенту, а также просматривать историю приложений и следить за местоположением устройства.</ul><hr /><h2 id="конфиденциальность-и-безопасность">Конфиденциальность и безопасность</h2><ul><li><p>Предоставлено новое хранилище <a href="https://developer.android.com/training/data-storage#scoped-storage" title="developer.android.com"><strong>Scoped storage</strong></a> (хранение по областям). С его помощью приложение может создать на внешнем носителе каталог для хранения своих файлов, к которому не смогут получить доступ другие приложения. Всем приложениям, ориентированным на Android 10 и выше, не требуется дополнительных разрешений для доступа к таким файлам, а также к медиа файлам (фото, видео итд.), созданным самим приложениям. Для обращения к файлам в каталоге приложения добавлен метод <a href="https://developer.android.com/reference/android/content/Context#getExternalFilesDir(java.lang.String)" title="developer.android.com"><code class="language-plaintext highlighter-rouge">getExternalFilesDir()</code></a>.</p><p>Подробнее об управлении внешним хранилищем написано в <a href="https://developer.android.com/training/data-storage/app-specific#external" title="developer.android.com">гайде</a>.</p><li><p>Добавлено новое разрешение <a href="https://developer.android.com/reference/android/Manifest.permission#ACCESS_BACKGROUND_LOCATION" title="developer.android.com"><code class="language-plaintext highlighter-rouge">ACCESS_BACKGROUND_LOCATION</code></a> на получение местоположения в фоновом режиме. Теперь пользователь может разрешить получение информации о его местоположении только когда приложение находится на переднем плане. Подробнее можно почитать <a href="https://developer.android.com/about/versions/10/privacy/changes#app-access-device-location" title="developer.android.com">здесь</a>, либо в <a href="https://developer.android.com/training/location/request-updates" title="developer.android.com">гайде</a>.</p><li><p>Ограничена возможность запуска приложений из фона с переходом на передний план. Это позволит минимизировать прерывания работы пользователя с другими приложениями и лучше контролировать то, что отображается на экране.</p><p>Вместо запуска из фона, рекомендуется, чтобы запуск приложения был следствием взаимодействия с пользователем. Например, при помощи высокоприоритетных <a href="https://developer.android.com/training/notify-user/time-sensitive" title="developer.android.com">уведомлений</a>.</p><li><p>Платформа больше не отслеживает информацию о контактах, чтобы скрыть от приложений информацию о предпочтениях пользователя. Теперь при поиске контакта результаты не будут упорядочиваться по частоте взаимодействия.</p><li>Рандомизация MAC-адресов. На устройствах Android 10 и выше система по умолчанию будут генерироваться случайные MAC-адреса. Это не позволит отслеживать перемещение пользователя между WiFi-сетями. Также добавлены следующие методы:<ul><li><a href="https://developer.android.com/reference/android/net/wifi/WifiConfiguration#getRandomizedMacAddress()" title="developer.android.com"><code class="language-plaintext highlighter-rouge">getRandomizedMacAddress()</code></a> для получения случайного MAC-адреса;<li><a href="https://developer.android.com/reference/android/app/admin/DevicePolicyManager#getWifiMacAddress(android.content.ComponentName)" title="developer.android.com">getWifiMacAddress()</a> для получения фактического MAC-адреса. <br /> <br /></ul><li><p>Ограничен доступ к файлам в директории <code class="language-plaintext highlighter-rouge">/proc/net</code>, которые содержат информацию о состоянии сети. Для получения доступа к этой информации следует использовать класс <a href="https://developer.android.com/reference/android/app/usage/NetworkStatsManager" title="developer.android.com">NetworkStatsManager</a> или <a href="https://developer.android.com/reference/android/net/ConnectivityManager" title="developer.android.com">ConnectivityManager</a>.</p><li><p>Ограничен доступ к неизменяемым идентификаторам устройства, таким как IMEI и серийный номер. Для получения к ним доступа приложения должны иметь разрешение <code class="language-plaintext highlighter-rouge">READ_PRIVILEGED_PHONE_STATE</code>.</p><li><p>Ограничен доступ к данным из буфера обмена: если приложение не находится на переднем плане, то оно не может получить доступ к данным в буфере обмена.</p><li><p>Защита серийного номера USB-устройства. Если приложению требуется серийный номер, то необходимо, чтобы пользователь предоставил разрешение на его считывание. Подробнее о том, как работать с USB можно почитать в специальном <a href="https://developer.android.com/guide/topics/connectivity/usb/host" title="developer.android.com">гайде</a>.</p><li><p>Изменён объём информации, предоставляемый методом <a href="https://developer.android.com/reference/android/hardware/camera2/CameraManager#getCameraCharacteristics(java.lang.String)" title="developer.android.com"><code class="language-plaintext highlighter-rouge">getCameraCharacteristics()</code></a>. Для получения доступа к некоторым полям требуется разрешение <a href="https://developer.android.com/reference/android/Manifest.permission#CAMERA" title="developer.android.com">CAMERA</a>. Список таких полей можно найти <a href="https://developer.android.com/guide/topics/media/camera#permission-camera-fields" title="developer.android.com">здесь</a>.</p><li><p>Приложения больше не могут включать и отключать Wi-Fi, а метод <a href="https://developer.android.com/reference/android/net/wifi/WifiManager#setWifiEnabled(boolean)" title="developer.android.com"><code class="language-plaintext highlighter-rouge">WifiManager.setWifiEnabled()</code></a> всегда возвращает <code class="language-plaintext highlighter-rouge">false</code>. Если же нужно предложить пользователю включить или отключить Wi-Fi, то используйте <a href="https://developer.android.com/reference/android/provider/Settings.Panel" title="developer.android.com">панель настроек</a> (settings panel).</p><li>Ограничен доступ к настроенным сетям Wi-Fi. Для защиты конфиденциальности пользователей ручная настройка списка сетей Wi-Fi ограничена системными приложениями и <a href="https://developer.android.com/work/dpc/build-dpc" title="developer.android.com">device policy controllers</a> (DPC). Если приложение предназначено для Android 10 или выше, то следующие методы не вернут полезной информации:<ul><li><a href="https://developer.android.com/reference/android/net/wifi/WifiManager#getConfiguredNetworks()" title="developer.android.com"><code class="language-plaintext highlighter-rouge">getConfiguredNetworks()</code></a> - всегда возвращает пустой список.<li><a href="https://developer.android.com/reference/android/net/wifi/WifiManager#addNetwork(android.net.wifi.WifiConfiguration)" title="developer.android.com"><code class="language-plaintext highlighter-rouge">addNetwork()</code></a> и <a href="https://developer.android.com/reference/android/net/wifi/WifiManager#updateNetwork(android.net.wifi.WifiConfiguration)" title="developer.android.com"><code class="language-plaintext highlighter-rouge">updateNetwork()</code></a> - всегда возвращают <code class="language-plaintext highlighter-rouge">-1</code>.<li><a href="https://developer.android.com/reference/android/net/wifi/WifiManager#removeNetwork(int)" title="developer.android.com"><code class="language-plaintext highlighter-rouge">removeNetwork()</code></a>, <a href="https://developer.android.com/reference/android/net/wifi/WifiManager#reassociate()" title="developer.android.com"><code class="language-plaintext highlighter-rouge">reassociate()</code></a>, <a href="https://developer.android.com/reference/android/net/wifi/WifiManager#enableNetwork(int,%20boolean)" title="developer.android.com"><code class="language-plaintext highlighter-rouge">enableNetwork()</code></a>, <a href="https://developer.android.com/reference/android/net/wifi/WifiManager#disableNetwork(int)" title="developer.android.com"><code class="language-plaintext highlighter-rouge">disableNetwork()</code></a>, <a href="https://developer.android.com/reference/android/net/wifi/WifiManager#reconnect()" title="developer.android.com"><code class="language-plaintext highlighter-rouge">reconnect()</code></a>, и <a href="https://developer.android.com/reference/android/net/wifi/WifiManager#disconnect()" title="developer.android.com"><code class="language-plaintext highlighter-rouge">disconnect()</code></a> - всегда возвращают <code class="language-plaintext highlighter-rouge">false</code>.</ul><p>Если приложению нужно подключиться к Wi-Fi, то используйте альтернативные методы:</p><ul><li><a href="https://developer.android.com/reference/android/net/wifi/WifiNetworkSpecifier" title="developer.android.com"><code class="language-plaintext highlighter-rouge">WifiNetworkSpecifier</code></a> совместно с <a href="https://developer.android.com/reference/android/net/NetworkRequest" title="developer.android.com"><code class="language-plaintext highlighter-rouge">NetworkRequest</code></a> - для мгновенного локального подключения к Wi-Fi.<li><a href="https://developer.android.com/reference/android/net/wifi/WifiNetworkSuggestion" title="developer.android.com"><code class="language-plaintext highlighter-rouge">WifiNetworkSuggestion</code></a> - для предоставления пользователю доступа в Интернет. <br /> <br /></ul><li>Для возможности использования некоторых методов телефонии, Bluetooth и Wi-Fi требуется разрешение <a href="https://developer.android.com/reference/android/Manifest.permission#ACCESS_FINE_LOCATION" title="developer.android.com"><code class="language-plaintext highlighter-rouge">ACCESS_FINE_LOCATION</code></a>. Список этих методов:<ul><li><a href="https://developer.android.com/reference/android/telephony/TelephonyManager" title="developer.android.com">TelephonyManager</a> - <code class="language-plaintext highlighter-rouge">getCellLocation()</code>, <code class="language-plaintext highlighter-rouge">getAllCellInfo()</code>, <code class="language-plaintext highlighter-rouge">requestNetworkScan()</code>, <code class="language-plaintext highlighter-rouge">requestCellInfoUpdate()</code>, <code class="language-plaintext highlighter-rouge">getAvailableNetworks()</code>, <code class="language-plaintext highlighter-rouge">getServiceState()</code>.<li><a href="https://developer.android.com/reference/android/telephony/TelephonyScanManager" title="developer.android.com">TelephonyScanManager</a> - <code class="language-plaintext highlighter-rouge">requestNetworkScan()</code>.<li><a href="https://developer.android.com/reference/android/telephony/TelephonyScanManager.NetworkScanCallback" title="developer.android.com">TelephonyScanManager.NetworkScanCallback</a> - <code class="language-plaintext highlighter-rouge">onResults()</code>.<li><a href="https://developer.android.com/reference/android/telephony/PhoneStateListener" title="developer.android.com">PhoneStateListener</a> - <code class="language-plaintext highlighter-rouge">onCellLocationChanged()</code>, <code class="language-plaintext highlighter-rouge">onCellInfoChanged()</code>, <code class="language-plaintext highlighter-rouge">onServiceStateChanged()</code>.<li><a href="https://developer.android.com/reference/android/net/wifi/WifiManager" title="developer.android.com">WifiManager</a> - <code class="language-plaintext highlighter-rouge">startScan()</code>, <code class="language-plaintext highlighter-rouge">getScanResults()</code>, <code class="language-plaintext highlighter-rouge">getConnectionInfo()</code>, <code class="language-plaintext highlighter-rouge">getConfiguredNetworks()</code>.<li><a href="https://developer.android.com/reference/android/net/wifi/aware/WifiAwareManager" title="developer.android.com">WifiAwareManager</a>.<li><a href="https://developer.android.com/reference/android/net/wifi/p2p/WifiP2pManager" title="developer.android.com">WifiP2pManager</a>.<li><a href="https://developer.android.com/reference/android/net/wifi/rtt/WifiRttManager" title="developer.android.com">WifiRttManager</a>.<li><a href="https://developer.android.com/reference/android/bluetooth/BluetoothAdapter" title="developer.android.com">BluetoothAdapter</a> - <code class="language-plaintext highlighter-rouge">startDiscovery()</code>, <code class="language-plaintext highlighter-rouge">startLeScan()</code>.<li><a href="https://developer.android.com/reference/android/bluetooth/BluetoothAdapter.LeScanCallback" title="developer.android.com">BluetoothAdapter.LeScanCallback</a>.<li><a href="https://developer.android.com/reference/android/bluetooth/le/BluetoothLeScanner" title="developer.android.com">BluetoothLeScanner</a> - <code class="language-plaintext highlighter-rouge">startScan()</code>.<br /> <br /></ul><li><p>Ограничен доступ к содержимому экрана. Изменена область действия разрешений <code class="language-plaintext highlighter-rouge">READ_FRAME_BUFFER</code>, <code class="language-plaintext highlighter-rouge">CAPTURE_VIDEO_OUTPUT</code>, и <code class="language-plaintext highlighter-rouge">CAPTURE_SECURE_VIDEO_OUTPUT</code>, что в свою очередь предотвращает “тихий” доступ к содержимому экрана. Эти разрешения теперь относятся к <a href="https://developer.android.com/guide/topics/permissions/overview#signature_permissions" title="developer.android.com">signature permissions</a>. Приложения, которым необходим доступ к экранному содержимому устройства, должны использовать <a href="https://developer.android.com/reference/android/media/projection/MediaProjection" title="developer.android.com"><code class="language-plaintext highlighter-rouge">MediaProjection</code></a>, который отправляет запрос пользователю для получения разрешения.</p><li><p>Проверка разрешений для устаревших приложений. Если приложение предназначено для Android 5.1 (API 22) или ниже, то при первом запуске такого приложения на Android 10 пользователь увидит экран, который даёт возможность аннулировать разрешения, выданные системой автоматически при установке приложения.</p><li><p>Введено новое разрешение <a href="https://developer.android.com/reference/android/Manifest.permission#ACTIVITY_RECOGNITION" title="developer.android.com"><code class="language-plaintext highlighter-rouge">ACTIVITY_RECOGNITION</code></a> для приложений, которым необходимо распознавать физическую активности: ходьбу, езду итд. Это сделано для того, чтобы пользователи могли в настройках увидеть то, как используются данные датчика.</p><p>Некоторые библиотеки, например, <a href="https://developers.google.com/location-context/activity-recognition/" title="developer.android.com">Activity Recognition</a> и <a href="https://developers.google.com/fit/android/authorization#android_permissions" title="developer.android.com">Google Fit</a>, не предоставляют информацию, если пользователь не предоставил это разрешение.</p><li><p>Начиная с Android 10, приложения не могут посмотреть, как разрешения группируются в пользовательском интерфейсе.</p><li>Улучшена биометрическая аутентификация:<ul><li>Проверка на возможность биометрической аутентификации.<li>Возможность аутентификации пользователя с помощью резервного механизма, например, чрез PIN-код устройства или пароль. Это актуально, когда пользователь по каким-либо причинам не может авторизоваться, используя биометрический код.<li>Если аутентификация пользователя была произведена неявно, то системе будет отправляться подсказка о том, что не следует требовать повторной аутентификации.</ul><li>TLS 1.3. Добавлена и включена по умолчанию для всех соединений.</ul><hr /><h2 id="другие-изменения">Другие изменения</h2><ul><li><p>Проверка вызовов. Android 10 позволяет идентифицировать вызовы, которые отсутствуют в адресной книге пользователя, как потенциальные спам-вызовы и отклонять их. Информация о таких вызовах фиксируется в журнале вызовов с пометкой о том, что вызов заблокирован.</p><li><p>Возможность обмена аудиовходом между двумя приложениями. Подробнее в <a href="https://developer.android.com/guide/topics/media/sharing-audio-input" title="developer.android.com">гайде</a>.</p><li><p>Возможность копирования звука, воспроизводимого другими приложениями. Подробнее в <a href="https://developer.android.com/guide/topics/media/playback-capture" title="developer.android.com">гайде</a>.</p><li>Начиная с Android 10, уведомления <code class="language-plaintext highlighter-rouge">MediaStyle</code> отображают seekbar, который показывает ход воспроизведения и может быть использован для перемещения по аудиофайлу. Внешний вид seekbar’а контролируется правилами:<ul><li>seekbar появляется, если существует активная <code class="language-plaintext highlighter-rouge">MediaSession</code> и её продолжительность больше нуля. То есть <code class="language-plaintext highlighter-rouge">seekbar</code> не отображается для неопределённых потоков, таких как прямые трансляции и радиопередачи.<li>если используется флаг <code class="language-plaintext highlighter-rouge">ACTION_SEEK_TO</code>, то пользователь может перетаскивать seekbar. <br /> <br /></ul><li><p>Thermal API. Позволяет приложениям контролировать показатели температуры CPU и GPU и самостоятельно принимать меры для снижения нагрузки (например, снижать FPS в играх и уменьшать разрешение транслируемого видео), не дожидаясь пока система принудительно начнёт урезать активность приложений.</p><li><p>Улучшена поддержка монохромной камеры.</p><li><p>Динамическая глубина резкости. Новый формат файлов DDF (Dynamic Depth Format), в котором можно создавать, хранить и отправлять фотографии с изменяемой глубиной резкости и AR-контентом.</p><li><p>Добавлен новый формата для сохранения фотографий - <strong>HEIC</strong>.</p><li><p>Добавлен класс <code class="language-plaintext highlighter-rouge">WebViewRenderProcessClient</code>, который позволяет определить, что <code class="language-plaintext highlighter-rouge">WebView</code> перестал отвечать на запросы. Класс абстрактный, поэтому для его использования нужно определить собственный подкласс и реализовать в нём методы <code class="language-plaintext highlighter-rouge">onRenderProcessResponsive()</code> и <code class="language-plaintext highlighter-rouge">onRenderProcessUnresponsive</code>. Далее экземпляр этого класса прикрепляется к одному или нескольким объектам <code class="language-plaintext highlighter-rouge">WebView</code>. Если <code class="language-plaintext highlighter-rouge">WebView</code> перестанет отвечать, то система периодически (не чаще, чем раз в пять секунд) вызывает метод <code class="language-plaintext highlighter-rouge">onRenderProcessUnresponsive()</code>. Если <code class="language-plaintext highlighter-rouge">WebView</code> начинает отвечать, то система вызывает <code class="language-plaintext highlighter-rouge">onRenderProcessResponsive()</code>.</p><li><p>Сборка мусора на основе Mallinfo.</p><li><p>Улучшена функциональность <code class="language-plaintext highlighter-rouge">TextClassifier</code>.</p><li><p>В Android 10 появилась встроенная поддержка слуховых аппаратов. Теперь их можно подключать к телефону и использовать, например, для прослушивания музыки и во время вызовов. Для передачи данных используется Bluetooth с низким энергопотреблением.</p><li>Android Auto. Сервис Android Auto теперь встроен в систему, поэтому вы можете просто подключить телефон к бортовому компьютеру и пользоваться всеми возможностями Android на дисплее автомобиля. Скачивать отдельное приложение не нужно.</ul><hr /><h2 id="полезные-ссылки">Полезные ссылки</h2><p><a href="https://developer.android.com/about/versions/10" title="developer.android.com">What’s in Android 10</a> - список всех изменений.<br /> <a href="https://www.android.com/intl/ru_ru/android-10/" title="www.android.com">Android 10</a> - список изменений с акцентом на визуальную составляющую или то, с чем работают пользователи.<br /> <a href="https://www.opennet.ru/opennews/art.shtml?num=51411" title="opennet.ru">Выпуск мобильной платформы Android 10</a> - обзорная статья по новшествам платформы.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/android/'>Android</a>, <a href='/categories/android-version-history/'>Android version history</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/android/" class="post-tag no-text-decoration" >android</a> <a href="/tags/android-10/" class="post-tag no-text-decoration" >android 10</a> <a href="/tags/android-version/" class="post-tag no-text-decoration" >android version</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Поделиться</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text='Android 10' - Bimlibik&url=http://bimlibik.github.io/posts/android-10/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title='Android 10' - Bimlibik&u=http://bimlibik.github.io/posts/android-10/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text='Android 10' - Bimlibik&url=http://bimlibik.github.io/posts/android-10/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Последние обновления</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/about-android/">Что такое Android</a><li><a href="/posts/kotlin-inline-functions/">Kotlin. Встроенные (inline) функции</a><li><a href="/posts/kotlin-collections/">Kotlin. Коллекции</a><li><a href="/posts/kotlin-overview/">Kotlin. Общий обзор</a><li><a href="/posts/kotlin-sealed-classes/">Kotlin. Изолированные (запечатанные) классы (sealed classes).</a></ul></div><div id="access-tags"> <span>Популярные теги</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/theory/">theory</a> <a class="post-tag" href="/tags/kotlin/">kotlin</a> <a class="post-tag" href="/tags/android/">android</a> <a class="post-tag" href="/tags/basics/">basics</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/android-version/">android version</a> <a class="post-tag" href="/tags/ui/">ui</a> <a class="post-tag" href="/tags/git/">git</a> <a class="post-tag" href="/tags/history/">history</a> <a class="post-tag" href="/tags/oop/">oop</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Содержание</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Недавно просмотренное</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/android-11/"><div class="card-body"> <span class="timeago small" > 18 May 2020 <i class="unloaded">2020-05-18T18:01:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Android 11</h3><div class="text-muted small"><p> Дата выхода: предварительная версия выпущена 19 февраля 2020 года, релиз - 8 сентября 2020 года. API: 30. Сладкое название: Red Velvet Cake (торт «Красный бархат»). Визуальные изменения ...</p></div></div></a></div><div class="card"> <a href="/posts/android-12/"><div class="card-body"> <span class="timeago small" > 23 March 2021 <i class="unloaded">2021-03-23T19:06:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Android 12</h3><div class="text-muted small"><p> Дата выхода: предварительная версия выпущена 18 февраля 2021 года, релиз - 04 октября 2021 года. API: 31. Сладкое название: Snow Cone. Визуальные изменения Эффект тактильной обратной связи...</p></div></div></a></div><div class="card"> <a href="/posts/android-version/"><div class="card-body"> <span class="timeago small" > 18 May 2020 <i class="unloaded">2020-05-18T18:00:00+08:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>История версий Android</h3><div class="text-muted small"><p> В познавательных целях рассмотрим каждую версию Android и что нового она принесла. Статья будет обновляться по мере выхода новых версий. Так как по старым версиям Android сложно найти какую-то ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/android-11/" class="btn btn-outline-primary" prompt="Предыдущая статья"><p>Android 11</p></a> <a href="/posts/how-does-android-work/" class="btn btn-outline-primary" prompt="Следующая статья"><p>Как работает Android. Архитектура платформы</p></a></div></div></div></div><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lozad/dist/lozad.min.js"></script> <script type="text/javascript"> const imgs = document.querySelectorAll('.post-content img'); const observer = lozad(imgs); observer.observe(); </script><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://github.com/Bimlibik">Bimlibik</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Популярные теги</h4><a class="post-tag" href="/tags/theory/">theory</a> <a class="post-tag" href="/tags/kotlin/">kotlin</a> <a class="post-tag" href="/tags/android/">android</a> <a class="post-tag" href="/tags/basics/">basics</a> <a class="post-tag" href="/tags/algorithm/">algorithm</a> <a class="post-tag" href="/tags/android-version/">android version</a> <a class="post-tag" href="/tags/ui/">ui</a> <a class="post-tag" href="/tags/git/">git</a> <a class="post-tag" href="/tags/history/">history</a> <a class="post-tag" href="/tags/oop/">oop</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="http://bimlibik.github.io{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
